<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>runmode &mdash; Lenstool 8.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  
        <script src="../_static/documentation_options.js?v=1f41a3ab"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="image" href="ImagE.html" />
    <link rel="prev" title="Parameter file: Section details" href="../parameter_file.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Lenstool
          </a>
              <div class="version">
                8.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation of Lenstool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../method.html">Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../InputOutput.html">Input/Output files</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../parameter_file.html">Parameter file: Section details</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">runmode</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reference-int-ra-dec"><code class="docutils literal notranslate"><span class="pre">reference</span> <span class="pre">int</span> <span class="pre">RA</span> <span class="pre">DEC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#inverse-int1-float1-float2"><code class="docutils literal notranslate"><span class="pre">inverse</span> <span class="pre">int1</span> <span class="pre">float1</span> <span class="pre">[float2]</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#image-int-filename"><code class="docutils literal notranslate"><span class="pre">image</span> <span class="pre">int</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#source-int-filename"><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">int</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-int1-int2-float-filename"><code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ampli-int1-int2-float-filename"><code class="docutils literal notranslate"><span class="pre">ampli</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#poten-int1-int2-float-filename"><code class="docutils literal notranslate"><span class="pre">poten</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mass-int1-int2-float-filename"><code class="docutils literal notranslate"><span class="pre">mass</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#shear-int1-int2-float-filename"><code class="docutils literal notranslate"><span class="pre">shear</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#shearfield-int-float-filename-int2"><code class="docutils literal notranslate"><span class="pre">shearfield</span> <span class="pre">int</span> <span class="pre">float</span> <span class="pre">filename</span> <span class="pre">int2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#imseeing-float-float"><code class="docutils literal notranslate"><span class="pre">imseeing</span> <span class="pre">float</span> <span class="pre">float</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#grid-int1-int2-float"><code class="docutils literal notranslate"><span class="pre">grid</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#minchi0-float-float"><code class="docutils literal notranslate"><span class="pre">minchi0</span> <span class="pre">float</span> <span class="pre">float</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pixel-int1-int2-filename"><code class="docutils literal notranslate"><span class="pre">pixel</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#verbose-int"><code class="docutils literal notranslate"><span class="pre">verbose</span> <span class="pre">int</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#marker-int-float-filename"><code class="docutils literal notranslate"><span class="pre">marker</span> <span class="pre">int</span> <span class="pre">float</span> <span class="pre">filename</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#radialprop-int-float1-float2"><code class="docutils literal notranslate"><span class="pre">radialprop</span> <span class="pre">int</span> <span class="pre">float1</span> <span class="pre">float2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dpl-int1-int2-float-filename1-filename2"><code class="docutils literal notranslate"><span class="pre">dpl</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename1</span> <span class="pre">filename2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#restart-int1-int2"><code class="docutils literal notranslate"><span class="pre">restart</span> <span class="pre">int1</span> <span class="pre">int2</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ImagE.html"><code class="docutils literal notranslate"><span class="pre">image</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="SourcE.html"><code class="docutils literal notranslate"><span class="pre">source</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="CleanLens.html"><code class="docutils literal notranslate"><span class="pre">Cleanlens</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ShapeModel.html"><code class="docutils literal notranslate"><span class="pre">shapemodel</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ShapeLimit.html"><code class="docutils literal notranslate"><span class="pre">shapelimit</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ObserV.html"><code class="docutils literal notranslate"><span class="pre">observ</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Dynfile.html"><code class="docutils literal notranslate"><span class="pre">DYNFILE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="GrillE.html"><code class="docutils literal notranslate"><span class="pre">grid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="PoTential.html"><code class="docutils literal notranslate"><span class="pre">potential</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="LimiT.html"><code class="docutils literal notranslate"><span class="pre">limit</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="PotFile.html"><code class="docutils literal notranslate"><span class="pre">potfile</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ClinE.html"><code class="docutils literal notranslate"><span class="pre">cline</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="CosmoloGie.html"><code class="docutils literal notranslate"><span class="pre">Cosmologie</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc_file.html">Auxiliary files and tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Supported_pot.html">Supported Potentials</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pywrap.html">Python wrapper</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Lenstool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../InputOutput.html">Input/Output files</a> &raquo;</li>
          <li><a href="../parameter_file.html">Parameter file: Section details</a> &raquo;</li>
      <li><code class="docutils literal notranslate"><span class="pre">runmode</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/section_parfile/RunMode.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="runmode">
<h1><code class="docutils literal notranslate"><span class="pre">runmode</span></code><a class="headerlink" href="#runmode" title="Link to this heading"></a></h1>
<p>This identifier is the most important one, and determine what the program will do. It works with the following  second identifiers.</p>
<section id="reference-int-ra-dec">
<h2><code class="docutils literal notranslate"><span class="pre">reference</span> <span class="pre">int</span> <span class="pre">RA</span> <span class="pre">DEC</span></code><a class="headerlink" href="#reference-int-ra-dec" title="Link to this heading"></a></h2>
<p>Set the reference point for the system to study, this parameter is the only <strong>mandatory one of the section</strong>.  This keyword is used to convert the relative coordinates used in [Lenstool] to absolute coordinates used in some input or output files.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">RA</span></code> and <code class="docutils literal notranslate"><span class="pre">DEC</span></code> are in the sexagesimal format hh:mm:ss and dd:mm:ss.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=</span> <span class="pre">3</span></code>, <code class="docutils literal notranslate"><span class="pre">RA</span></code> and <code class="docutils literal notranslate"><span class="pre">DEC</span></code> are in degrees.</p>
</section>
<section id="inverse-int1-float1-float2">
<h2><code class="docutils literal notranslate"><span class="pre">inverse</span> <span class="pre">int1</span> <span class="pre">float1</span> <span class="pre">[float2]</span></code><a class="headerlink" href="#inverse-int1-float1-float2" title="Link to this heading"></a></h2>
<p>If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">0</span></code>, no optimisation is performed.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">1</span></code>, the optimisation method is the parabolic method. <em>float1</em> is the maximum number of iterations.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">2</span></code>, Lenstool performs a Monte-Carlo sampling of the [<code class="docutils literal notranslate"><span class="pre">potfile</span></code>] parameters [<code class="docutils literal notranslate"><span class="pre">sigma</span></code>] and [<code class="docutils literal notranslate"><span class="pre">cut</span> <span class="pre">radius</span></code>]. For each particular value of sigma and cut radius, it performs a parabolic optimisation (see also [<code class="docutils literal notranslate"><span class="pre">potfile</span></code>] Section). <code class="docutils literal notranslate"><span class="pre">float1</span></code> is the maximum number of iterations per Monte-Carlo iteration.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">3</span></code>, the optimisation method is the Bayesian method based on the <a class="reference external" href="http://www.inference.phy.cam.ac.uk/bayesys/">BayeSys</a> algorithm (see also <a class="reference external" href="http://www.iop.org/EJ/abstract/1367-2630/9/12/447/">Jullo et al. 2007</a>). This optimisation method is slower but is less sensible to local <img class="math" src="../_images/math/1cbe49dd16598c0550b8a7477dd597e6bc04367e.png" alt="\chi^2"/> minima than the parabolic method. <code class="docutils literal notranslate"><span class="pre">float1</span></code> drives the speed of convergence. It controls the rate <img class="math" src="../_images/math/ed858cecb4862f5e6aa03e60d7b196bf8ce9f664.png" alt="\delta\lambda"/> by which is raised the cooling factor <img class="math" src="../_images/math/cefc603e5658facb747581f9567192993f21c7ab.png" alt="\lambda"/> at each step of the Markov Chain. When the burn-in phase starts, <img class="math" src="../_images/math/b7f64e9ab248446570184871d1b4298f08820b2b.png" alt="\lambda = 0"/> and when it reaches <img class="math" src="../_images/math/6b05a363dbed96287d1074873864f8993b4a493b.png" alt="\lambda = 1"/>, it switches to the sampling phase. The cooling factor balances the relative weight of the likelihood and the prior in the posterior joint probability, as follow</p>
<div class="math">
<p><img src="../_images/math/15e736beacbfe7b62f3be10e2df4e89a1576d1a9.png" alt="Posterior = Likelihood^\lambda\;Prior"/></p>
</div><p>Default value <code class="docutils literal notranslate"><span class="pre">float1</span> <span class="pre">=</span> <span class="pre">0.5</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">float2</span></code> is the number of iterations. By default, it is equal to  the number of iterations needed to complete the burn-in phase. Since we use 10 Markov chains in parallel, 10 samples per iteration are appended to the <a class="reference internal" href="#"><span class="xref myst">bayes.dat</span></a> ASCII file.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">4</span></code>, the optimisation method is a maximum likelihood method alike when <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">1</span></code> but based on the <a class="reference external" href="http://www.inference.phy.cam.ac.uk/bayesys/">BayeSys</a> algorithm. The cooling factor do not stop at 1. <code class="docutils literal notranslate"><span class="pre">float1</span></code> and <code class="docutils literal notranslate"><span class="pre">float2</span></code> have the same meaning as when <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">3</span></code>.</p>
<p>During the optimisation with [BayeSys], a status line is printed. According to the optimisation phase, the status line can take the following forms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Burn</span><span class="o">-</span><span class="ow">in</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">cooling</span> <span class="n">factor</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">Nb</span> <span class="n">it</span><span class="o">.&gt;</span> <span class="o">&lt;</span><span class="n">chi2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">evidence</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">bad</span> <span class="n">samples</span><span class="o">/</span><span class="n">Ntot</span> <span class="n">samples</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">samples</span><span class="o">/</span><span class="n">s</span><span class="o">&gt;</span>

<span class="n">Sampling</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">cooling</span> <span class="n">factor</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">Nb</span> <span class="n">Sampling</span> <span class="n">it</span><span class="o">./</span><span class="n">Ntot</span> <span class="n">it</span><span class="o">.&gt;</span> <span class="o">&lt;</span><span class="n">chi2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">evidence</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">CTRL</span><span class="o">-</span><span class="n">C</span> <span class="n">to</span> <span class="n">interrupt</span><span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;bad</span> <span class="pre">samples&gt;</span></code> refer to image plane optimisation, during which bad samples predict less images than observed. In Bayesian mode ( <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">3</span></code>), the cooling factor stops at 1, whereas in Maximum Likelihood mode ( <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">4</span></code>), it continues to increase.</p>
<p>At the end of the optimisation process, Lenstool creates a <a class="reference internal" href="#"><span class="xref myst">best.par</span></a> and a <a class="reference internal" href="#"><span class="xref myst">bestopt.par</span></a> files. They contain the best model and the best model + optimisation limits respectively. Additionally, useful information related to the optimisation are provided in their header. Be aware that in Bayesian mode ( <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">3</span></code>), these too file have no particular meaning since the algorithm samples the posterior Probability Distribution Function, and do not particularly look for the best fit. Prefer other tools like <a class="reference internal" href="#"><span class="xref myst">bayesResults.pl</span></a> script to analyse the <a class="reference internal" href="#"><span class="xref myst">bayes.dat</span></a> file.</p>
</section>
<section id="image-int-filename">
<h2><code class="docutils literal notranslate"><span class="pre">image</span> <span class="pre">int</span> <span class="pre">filename</span></code><a class="headerlink" href="#image-int-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int</span></code> 0: if false &gt;0: if true.</p>
<p><code class="docutils literal notranslate"><span class="pre">filename</span></code>:  refer to an ASCII catalog file (see <a class="reference internal" href="#"><span class="xref myst">input images catalog</span></a>).</p>
<p>If true the program will read a list of arclets in <code class="docutils literal notranslate"><span class="pre">filename</span></code>, find their sources (and put them in the output file <a class="reference internal" href="#"><span class="xref myst">source.dat</span></a> ) and recompute all their images (and put them in the output file <a class="reference internal" href="#"><span class="xref myst">image.all</span></a>. Moreover the program will create other  output files: <a class="reference internal" href="#"><span class="xref myst">image.dat</span></a> where only the computed arclet with deformation <img class="math" src="../_images/math/914b2d4b6659b86d3153d5510839dfb254dfc8a3.png" alt="\tau"/> less than <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">grande</span></code></span></a> large dist are indicated (basically, <a class="reference internal" href="#"><span class="xref myst">image.dat</span></a> does not include giant arcs). <a class="reference internal" href="#"><span class="xref myst">dist.dat</span></a> information about the ellipticity of all the arclets, including weakly distorted images and giant arcs. <a class="reference internal" href="#"><span class="xref myst">sort.dat</span></a> same as <a class="reference internal" href="#"><span class="xref myst">image.all</span></a> but sorted from the most elongated (giant arcs) to the less (arclets).</p>
<p>Interest: find counter images.</p>
<p>Note: both image and source identifiers can be used at the same time.</p>
</section>
<section id="source-int-filename">
<h2><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">int</span> <span class="pre">filename</span></code><a class="headerlink" href="#source-int-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int</span></code> 0: if false &gt;0: if true.</p>
<p><code class="docutils literal notranslate"><span class="pre">filename</span></code>:  refer to an ASCII catalog file (see <a class="reference internal" href="#"><span class="xref myst">Input images catalog</span></a> file)</p>
<p>If true the program will read a list of sources in <code class="docutils literal notranslate"><span class="pre">filename</span></code> (and put them in the output file [source.dat]) and compute all their images (and put them in the output file [image.all]). Moreover the program will create the same output files as for the arclet preceding sub-qualifier: [image.dat] where only the computed arclet with deformation τ less than <a class="reference internal" href="#"><span class="xref myst">grande</span></a> large dist are indicated. <a class="reference internal" href="#"><span class="xref myst">dist.dat</span></a> information about the ellipticity of all the arclet sorted from the most elongated to the less. <a class="reference internal" href="#"><span class="xref myst">sort.dat</span></a> same as <a class="reference internal" href="#"><span class="xref myst">image.all</span></a> but sorted from the most elongated to the less.</p>
<p>Interest: usually used to show typical image configurations.</p>
<p>Note: both image and source identifiers can be used at the same time.</p>
</section>
<section id="time-int1-int2-float-filename">
<h2><code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code><a class="headerlink" href="#time-int1-int2-float-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if false 1: if true.</p>
<p><code class="docutils literal notranslate"><span class="pre">filename</span></code>: fits file that will contain the results.</p>
<p><code class="docutils literal notranslate"><span class="pre">float</span></code>: redshift of the source.</p>
<p>If true will compute for the redshift <em>float</em> a pixel-frame (<code class="docutils literal notranslate"><span class="pre">int2</span></code><img class="math" src="../_images/math/8ef1f282527041d7d5c4a46dd2c60a02a7a7c00b.png" alt="\times"/><code class="docutils literal notranslate"><span class="pre">int2</span></code>) of the (relative) arrival time (in year) of each pixel of the image plane (area defined by <a class="reference internal" href="#"><span class="xref myst">champ</span></a> ). Results are written in the pixel-frame file <code class="docutils literal notranslate"><span class="pre">filename</span></code>.</p>
<p>EQUATIONS</p>
<p>The (relative) arrival time surface corresponds to the time of arrival at the Image Plane of a flash that left at the same time the Source Plane. It is absolute in the sense we have substracted the mean travel time between the two planes. To find out the time-delay between two images of the same source, one has to know the position of the images and then compute the difference between the two corresponding arrival times.</p>
</section>
<section id="ampli-int1-int2-float-filename">
<h2><code class="docutils literal notranslate"><span class="pre">ampli</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code><a class="headerlink" href="#ampli-int1-int2-float-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if false 1: if true.</p>
<p><code class="docutils literal notranslate"><span class="pre">float</span></code>: redshift of the source.</p>
<p><code class="docutils literal notranslate"><span class="pre">filename</span></code>: fits file that will contain the results.</p>
<p>Same as <a class="reference internal" href="#"><span class="xref myst">time</span></a> but compute the amplification <img class="math" src="../_images/math/2c291e182e3385fbfd2144ae978b222e8ec12f12.png" alt="\mu^{-1}"/> in the image plane.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">1</span></code>, compute <img class="math" src="../_images/math/2c291e182e3385fbfd2144ae978b222e8ec12f12.png" alt="\mu^{-1}"/>. If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">2</span></code>, compute its absolute value and if <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">3</span></code>, compute its absolute value in magnitude. If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">5</span></code>, compute the convergence map in the image plane, and take the ratio <img class="math" src="../_images/math/2c7e5f426bf44653ebeb2b5d480f5af995f09e35.png" alt="DLS/DS=1"/>. If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">6</span></code>, compute the shear map in the image plane and take the ratio <img class="math" src="../_images/math/2c7e5f426bf44653ebeb2b5d480f5af995f09e35.png" alt="DLS/DS=1"/>. If <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">-1</span></code>, compute the absolute value of <img class="math" src="../_images/math/2c291e182e3385fbfd2144ae978b222e8ec12f12.png" alt="\mu^{-1}"/> in the source plane considering every images (prototype).</p>
<p>The amplification is defined as <img class="math" src="../_images/math/a8e2ae098bf7f76ca235e039db0d284ef4619efa.png" alt="\mu = ((1 - \kappa)^2 + \gamma^2 )^{-1}"/>.</p>
<p>with <img class="math" src="../_images/math/261e3eb56c1757dd003745ee4cc53aa595565af1.png" alt="\kappa"/> and <img class="math" src="../_images/math/34d137cf01c787ecda732761c3f95b0f65a6c3e9.png" alt="\gamma"/> the convergence and the shear respectively. They are defined by <img class="math" src="../_images/math/742207050f8b7279c1a4d2ff0ecfcd350226eb03.png" alt="2\kappa = \nabla^2 \varphi"/> and <img class="math" src="../_images/math/4e31b8a25693346904bd979a5f9ef1f2bf555aa3.png" alt="\gamma^2 = \frac{1}{4} ((\partial_{xx} \varphi - \partial_{yy} \varphi)^2 + (\partial_{xy} \varphi)^2)"/></p>
</section>
<section id="poten-int1-int2-float-filename">
<h2><code class="docutils literal notranslate"><span class="pre">poten</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code><a class="headerlink" href="#poten-int1-int2-float-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if false 1,2: if true. <code class="docutils literal notranslate"><span class="pre">int2</span></code> size of the square grid. <code class="docutils literal notranslate"><span class="pre">float</span></code> redshift of the source plane (<img class="math" src="../_images/math/0cd3fc200890a492174278e0e2e0887f23be876d.png" alt="z^S"/> ). <code class="docutils literal notranslate"><span class="pre">filename</span></code> : fits file that will contain the results.</p>
<p>Same as time but compute the relative (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">1</span></code>) or absolute (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">2</span></code>) projected potential.</p>
<p>EQUATIONS</p>
<p>Where the absolute projected potential (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">2</span></code>) is: <img class="math" src="../_images/math/5a1bbfc196764dc9da6c0b5d3e297e90fd36149b.png" alt="\phi(\vec{\xi^I})"/>. Because it is absolute it does not depend of the redshift <img class="math" src="../_images/math/0cd3fc200890a492174278e0e2e0887f23be876d.png" alt="z^S"/> (<code class="docutils literal notranslate"><span class="pre">float</span></code>).</p>
</section>
<section id="mass-int1-int2-float-filename">
<h2><code class="docutils literal notranslate"><span class="pre">mass</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code><a class="headerlink" href="#mass-int1-int2-float-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if false 1,2: if true. <em>int2</em> size of the square grid. <code class="docutils literal notranslate"><span class="pre">float</span></code> redshift of the lens plane (<img class="math" src="../_images/math/e13e6f509c7b0873fe304e937485dfc2c6c6cf0d.png" alt="z ^L"/> ). <code class="docutils literal notranslate"><span class="pre">filename</span></code>: fits file that will contain the result.</p>
<p>Same as time but compute the relative (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">1</span></code>) the absolute (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">2</span> <span class="pre">and</span> <span class="pre">4</span></code>) projected mass-density, or the integrated (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">3</span></code>) projected mass-density. Assuming the redshift of the source <img class="math" src="../_images/math/0cd3fc200890a492174278e0e2e0887f23be876d.png" alt="z^S"/> from the <a class="reference internal" href="#"><span class="xref myst">z_source</span></a> keyword, the relative projected mass-density (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">1</span></code>) (also called convergence) is determined by</p>
<div class="math">
<p><img src="../_images/math/fbe5d71bf9b8c7af3bf4a14236bf57a30fa68de8.png" alt="\kappa(\vec{\xi^I}, z^S)= \frac{\nabla^2\varphi(\vec{\xi^I}, z^S)}{2} = \frac{\Sigma(\vec{\xi^I}, z^S)}{\Sigma_{\rm crit}}"/></p>
</div><p>The critical density is defined by:</p>
<div class="math">
<p><img src="../_images/math/4911b906a893abee8025f2ec4b8b4c615c5bd5d5.png" alt="\Sigma_{\rm crit}(z^S) = \frac{c^2}{4\pi G} \frac{D_{OL}}{D_{LS} D_{OL}}"/></p>
</div><p>The absolute projected mass-density (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">2</span> <span class="pre">and</span> <span class="pre">4</span></code>) is determined by:</p>
<div class="math">
<p><img src="../_images/math/098d576b0747683b77aa5d91a9f054ada60fe24b.png" alt="\Sigma(\vec{\xi^I}) = \Sigma_{\rm crit} \frac{\nabla^2 \varphi}{2} = \frac{\nabla^2_{\vec{\xi^I}}\phi(\vec{\xi^I})}{4\pi G}"/></p>
</div><p>in unit of <img class="math" src="../_images/math/708d42b7d83824b17d015d1dd13acbcef13e98a7.png" alt="\rm g/cm^2"/>  (<code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=2</span></code>) or <img class="math" src="../_images/math/e979c4c3f609e71191792adff7bb6ac27420338e.png" alt="\rm 10^12 \, M_{\odot}/kpc^2"/> (<code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=</span> <span class="pre">4</span></code>).</p>
<p>Because it is absolute, it does not depend of the redshift <img class="math" src="../_images/math/0cd3fc200890a492174278e0e2e0887f23be876d.png" alt="z^S"/> (<code class="docutils literal notranslate"><span class="pre">float</span></code>).</p>
<p>The integrated projected mass-density per pixel (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">3</span></code>) is determined by:</p>
<div class="math">
<p><img src="../_images/math/db8e1c5769f2cef19df09b4e3260e97678608d21.png" alt="M(\vec{\xi^I}) = \frac{\nabla^2_{\vec{\xi^I}}\phi(\vec{\xi^I})}{4\pi G} S_{\rm pixel}"/></p>
</div><p>in unit of <img class="math" src="../_images/math/17e7ec3abd84255d5eb7726c6478ccc23fa00038.png" alt="\rm 10^12 \, M_{\odot}/pixel"/></p>
<p>Obviously, it depends on the pixel size. As for the time function, the area covered by the image is defined in the frame section. In Bayesian optimisation mode, you can get the projected error mass-density (<code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=</span> <span class="pre">5</span></code>) in <img class="math" src="../_images/math/17e7ec3abd84255d5eb7726c6478ccc23fa00038.png" alt="\rm 10^12 \, M_{\odot}/pixel"/>. The map size in arcsec is defined with the <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">dmax</span></code></span></a> keyword in the champ section. In the rectangular field case, the image size is (X,Y) = (scaling<img class="math" src="../_images/math/8ef1f282527041d7d5c4a46dd2c60a02a7a7c00b.png" alt="\times"/><code class="docutils literal notranslate"><span class="pre">int2</span></code>, <code class="docutils literal notranslate"><span class="pre">int2</span></code>).</p>
</section>
<section id="shear-int1-int2-float-filename">
<h2><code class="docutils literal notranslate"><span class="pre">shear</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename</span></code><a class="headerlink" href="#shear-int1-int2-float-filename" title="Link to this heading"></a></h2>
<p>Shear is just a pixel-frame of the intensity of the shear with no indication of the orientation of the shear.</p>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> can take the following values:</p>
<ul class="simple">
<li><p>0: false</p></li>
<li><p>1: shear_map <img class="math" src="../_images/math/34d137cf01c787ecda732761c3f95b0f65a6c3e9.png" alt="\gamma"/> in the Image Plane for <img class="math" src="../_images/math/20e4e7622e4c60fcf67cf0f741b517b68ccc5303.png" alt="z_s"/>:  <img class="math" src="../_images/math/799852e21c2590267e786f887295a617278db053.png" alt="\gamma = (a - b)/2,\  a = 1 - \kappa + \gamma,\ b = 1 - \kappa - \gamma"/></p></li>
<li><p>2: shear_map <img class="math" src="../_images/math/0ad7b30534898f253002222f998f38001e604648.png" alt="\epsilon"/> in the Image Plane for <img class="math" src="../_images/math/20e4e7622e4c60fcf67cf0f741b517b68ccc5303.png" alt="z_s"/>: <img class="math" src="../_images/math/2b19db6fe763921e010591043eb8ae0b2cfab4d9.png" alt="\epsilon = (a^2 - b^2) / (a^2 + b^2),\ a = 1 - \kappa + \gamma,\ b = 1 - \kappa - \gamma"/></p></li>
<li><p>3: shear_map <img class="math" src="../_images/math/9e513c9f5e5cdc0504d24a36f89be7ab14ae1ce3.png" alt="\gamma_1"/> in the Image Plane for <img class="math" src="../_images/math/20e4e7622e4c60fcf67cf0f741b517b68ccc5303.png" alt="z_s"/>: <img class="math" src="../_images/math/24db1116867e02ce3f49d9a0379c98962a2fc2d5.png" alt="\gamma_1 = \frac{1}{2} (\partial^2 \varphi_{xx} - \partial^2 \varphi_{yy})"/></p></li>
<li><p>4: shear_map <img class="math" src="../_images/math/be53c2da4f35d6bd4530b8000d4a6628a474547d.png" alt="\gamma_2"/> in the Image Plane for <img class="math" src="../_images/math/20e4e7622e4c60fcf67cf0f741b517b68ccc5303.png" alt="z_s"/>: <img class="math" src="../_images/math/6b2c58d27e04240c5fb41605ec59dcbafcec5c2b.png" alt="\gamma_2 = \partial^2\varphi_{xy}"/></p></li>
<li><p>-1: shear_map <img class="math" src="../_images/math/34d137cf01c787ecda732761c3f95b0f65a6c3e9.png" alt="\gamma"/> in the Source Plane for <img class="math" src="../_images/math/20e4e7622e4c60fcf67cf0f741b517b68ccc5303.png" alt="z_s"/></p></li>
<li><p>-2: shear_map <img class="math" src="../_images/math/0ad7b30534898f253002222f998f38001e604648.png" alt="\epsilon"/> in the Source Plane for <img class="math" src="../_images/math/20e4e7622e4c60fcf67cf0f741b517b68ccc5303.png" alt="z_s"/></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">int2</span></code> size of the square grid. <code class="docutils literal notranslate"><span class="pre">float</span></code> redshift of the source. <code class="docutils literal notranslate"><span class="pre">filename</span></code> fits file that will contain the result.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int1</span></code> &lt;0, the behavior is the same but for pixels are considered in the source plane.</p>
</section>
<section id="shearfield-int-float-filename-int2">
<h2><code class="docutils literal notranslate"><span class="pre">shearfield</span> <span class="pre">int</span> <span class="pre">float</span> <span class="pre">filename</span> <span class="pre">int2</span></code><a class="headerlink" href="#shearfield-int-float-filename-int2" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int</span></code> 0: if false 1,2,3,4: if true. If true will compute for the redshift <code class="docutils literal notranslate"><span class="pre">float</span></code> the shear field at <code class="docutils literal notranslate"><span class="pre">int2</span></code><img class="math" src="../_images/math/8ef1f282527041d7d5c4a46dd2c60a02a7a7c00b.png" alt="\times"/><code class="docutils literal notranslate"><span class="pre">int2</span></code>] points of the Image Plane (area defined by frame ). Results are written in the file <code class="docutils literal notranslate"><span class="pre">filename</span></code> in the same arclet-type format (see <a class="reference internal" href="#"><span class="xref myst">image.dat</span></a>).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></code>, the size of the ticks correspond to the induced ellipticity by the mass distribution. If <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=</span> <span class="pre">2</span></code>, the ticks show only the polarization of the field. If <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=</span> <span class="pre">3</span></code>, the ticks show the deformation <img class="math" src="../_images/math/d767f85b7d351edbd070896bd924cca3bcff63dd.png" alt="\tau = (a^2 - b^2)/2ab"/>. If <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">=</span> <span class="pre">4</span></code>, the ticks show the usual ellipticity components <img class="math" src="../_images/math/dc1b20706d66d0b5ccf83995618d84a91f815bfc.png" alt="{a,b,\theta}"/>. Note: Do not mix the identifiers shear and shearfield. shear is just a pixel-frame of the intensity of the shear with no indication of the orientation of the shear. shearfield on the contrary will give you the orientation of the shear and its intensity but only in a grid of <code class="docutils literal notranslate"><span class="pre">int2</span></code><img class="math" src="../_images/math/8ef1f282527041d7d5c4a46dd2c60a02a7a7c00b.png" alt="\times"/><code class="docutils literal notranslate"><span class="pre">int2</span></code> points. Default <code class="docutils literal notranslate"><span class="pre">int2</span></code> = 25.</p>
</section>
<section id="imseeing-float-float">
<h2><code class="docutils literal notranslate"><span class="pre">imseeing</span> <span class="pre">float</span> <span class="pre">float</span></code><a class="headerlink" href="#imseeing-float-float" title="Link to this heading"></a></h2>
<p>FWHM of the gaussian Imseeing of the arclet assuming that both the profile of the arclet and of the seeing are Gaussian. It’s a very simple and crude correction. Default value is 0 (meaning no seeing correction).</p>
</section>
<section id="grid-int1-int2-float">
<h2><code class="docutils literal notranslate"><span class="pre">grid</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span></code><a class="headerlink" href="#grid-int1-int2-float" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if false 1,2: if true. If true, will create a grid of <code class="docutils literal notranslate"><span class="pre">int2</span></code> points. If <code class="docutils literal notranslate"><span class="pre">int1</span></code>= 1, it considers this grid as the Source Plane at the redshift of float, and compute the corresponding grid in the Image Plane. If <code class="docutils literal notranslate"><span class="pre">int1=</span> <span class="pre">2</span></code>, it considers this grid as the Image Plane and compute the corresponding grid in the Source Plane at the redshift of <code class="docutils literal notranslate"><span class="pre">float</span></code>. The grid coordinates either in the source or in the image planes are defined in the frame section by the <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">dmax</span></code></span></a> or by the set of keywords (<code class="docutils literal notranslate"><span class="pre">xmin</span></code>, <code class="docutils literal notranslate"><span class="pre">xmax</span></code>, <code class="docutils literal notranslate"><span class="pre">ymin</span></code>, <code class="docutils literal notranslate"><span class="pre">ymax</span></code>). Results are in the files: gi1.dat (image vertical grid) gi2.dat (image horizontal grid) and gs1.dat (source vertical grid) gs2.dat (source horizontal grid). All these file have the following format: <img class="math" src="../_images/math/8c98c45806fb47b091ea7588040a3341b11677f0.png" alt="{j\, x_i\, y_i}"/> where <img class="math" src="../_images/math/e3fc28292267f066fee7718c64f4bbfece521f24.png" alt="j"/> is an index, <img class="math" src="../_images/math/c67734af70861b2bd4dedf5c41c9aad231466f84.png" alt="x_i"/> <img class="math" src="../_images/math/09f199ae634ca653278cddfd301f2394bacb1777.png" alt="y_i"/> are the pixel coordinates.</p>
</section>
<section id="minchi0-float-float">
<h2><code class="docutils literal notranslate"><span class="pre">minchi0</span> <span class="pre">float</span> <span class="pre">float</span></code><a class="headerlink" href="#minchi0-float-float" title="Link to this heading"></a></h2>
<p>value of the <img class="math" src="../_images/math/1cbe49dd16598c0550b8a7477dd597e6bc04367e.png" alt="\chi^2"/> at which the optimization program will stop in the case of a parabolic optimisation. Default is 0, but this is not dramatic in case of slow convergence or even non-convergence at all. The number of iterations is also controlled from inverse qualifier.</p>
</section>
<section id="pixel-int1-int2-filename">
<h2><code class="docutils literal notranslate"><span class="pre">pixel</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">filename</span></code><a class="headerlink" href="#pixel-int1-int2-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if false &gt;0: if true. <code class="docutils literal notranslate"><span class="pre">filename</span></code>:  has to be a fits file. If true, it will create a pixel-frame filename of <code class="docutils literal notranslate"><span class="pre">int2</span></code><img class="math" src="../_images/math/8ef1f282527041d7d5c4a46dd2c60a02a7a7c00b.png" alt="\times"/><code class="docutils literal notranslate"><span class="pre">int2</span></code> pixels that corresponds of the brightness intensity in the image-plane of all the arc(let)s computed from:</p>
<ul class="simple">
<li><p>in case of <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=1</span></code>, either the objects defined in the <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">image</span></code></span></a> and/or the <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">source</span></code></span></a> identifiers and/or the shapemodel/shapelimit sections.</p></li>
<li><p>in case of <code class="docutils literal notranslate"><span class="pre">int1</span> <span class="pre">=2</span></code>, an input image in the <em>source plane</em> defined using the <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">sframe</span></code></span></a> and <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">cleanset</span></code></span></a> parameters of the <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">cleanlens</span></code></span></a> sections. For example this input image can directly be the output of a <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">cleanlens</span></code></span></a> source reconstruction.</p></li>
</ul>
<p>If the first identifier [<code class="docutils literal notranslate"><span class="pre">observ</span></code>] is set, the program will convolve the true image by a seeing and add Poisson Noise. The purpose of pixel is to make realistic images of arc(let)s or pixelised source plane from a given projected potential which can be compared directly with real CCD images of arc(let)s (see for example Kneib et al. 1993, Fig. 1b). It can make images of several arc(let)s coming from various sources on the same frame  (Note: this is not the case with the <a class="reference internal" href="#"><span class="xref myst">iso</span></a> identifier).</p>
<p>An image  <code class="docutils literal notranslate"><span class="pre">source.fits</span></code> of the corresponding source is also created. Its size, resolution and location can be altered from the default values with the <a class="reference internal" href="#"><span class="xref myst">cleanlens</span></a> section.</p>
</section>
<section id="verbose-int">
<h2><code class="docutils literal notranslate"><span class="pre">verbose</span> <span class="pre">int</span></code><a class="headerlink" href="#verbose-int" title="Link to this heading"></a></h2>
<p>If <code class="docutils literal notranslate"><span class="pre">int</span></code> is 0, minimal log information is printed to the screen. If <code class="docutils literal notranslate"><span class="pre">int</span></code> is 1, then some debugging information is printed to the screen.</p>
</section>
<section id="marker-int-float-filename">
<h2><code class="docutils literal notranslate"><span class="pre">marker</span> <span class="pre">int</span> <span class="pre">float</span> <span class="pre">filename</span></code><a class="headerlink" href="#marker-int-float-filename" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int</span></code> 0: if false 1: if true. <code class="docutils literal notranslate"><span class="pre">filename</span></code> input points filename must be a 3 columns ASCII file:
| <img class="math" src="../_images/math/5aa339d4daf45a810dda332e3c80a0698e526e04.png" alt="i"/> | <img class="math" src="../_images/math/c67734af70861b2bd4dedf5c41c9aad231466f84.png" alt="x_i"/> | <img class="math" src="../_images/math/09f199ae634ca653278cddfd301f2394bacb1777.png" alt="y_i"/> |.</p>
<p>If true, will read the points markers in the file filename and compute the corresponding points in the Source Plane at redshift float. Results are put in the file [:MarkersDat:marker_s.dat].</p>
</section>
<section id="radialprop-int-float1-float2">
<h2><code class="docutils literal notranslate"><span class="pre">radialprop</span> <span class="pre">int</span> <span class="pre">float1</span> <span class="pre">float2</span></code><a class="headerlink" href="#radialprop-int-float1-float2" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int</span></code> 0: if false 1,2,3: if true. If true, will compute for the current potential some properties of images for a Source Plane at redshift <code class="docutils literal notranslate"><span class="pre">float1</span></code>. These properties differs according to the value of <code class="docutils literal notranslate"><span class="pre">int</span></code>. They are computed along a radial line starting at the center of the first clump and with the position angle <code class="docutils literal notranslate"><span class="pre">float2</span></code> expressed in degree. Results are put in the files: <code class="docutils literal notranslate"><span class="pre">radial.dat</span></code> and <code class="docutils literal notranslate"><span class="pre">radial2.dat</span></code>. These are huge datafile, hence be careful! If <code class="docutils literal notranslate"><span class="pre">int=</span> <span class="pre">1</span></code> only <code class="docutils literal notranslate"><span class="pre">radial.dat</span></code> will be created with the following format:</p>
<p>| <img class="math" src="../_images/math/dbc4c429b48dd94e41ee866e1edbf0abededae3a.png" alt="r_i"/> | <img class="math" src="../_images/math/8a87f04e7d7cca18343c084cceca5237fae62491.png" alt="\theta"/>  | <img class="math" src="../_images/math/8a0ac94597494eec7882eb3baaf5e42c5bf0e314.png" alt="a_i"/> | <img class="math" src="../_images/math/7f5dd17f04daee06d4c2d26a6bdf6bdc4a04876f.png" alt="b_i"/> |  <img class="math" src="../_images/math/d645ea83202ae9647ccdcd62cd30ff6631b5d89b.png" alt="\theta_{shear, i}"/> | <img class="math" src="../_images/math/e3535fd1868cc6c6b0c0998c3d459f55a9d0f8d2.png" alt="\mu_i"/> |</p>
<p>where <img class="math" src="../_images/math/dbc4c429b48dd94e41ee866e1edbf0abededae3a.png" alt="r_i"/> is the radial distance, θ is the direction of the radial axis (90deg relative to PA), <img class="math" src="../_images/math/8a0ac94597494eec7882eb3baaf5e42c5bf0e314.png" alt="a_i"/> is the radial eigenvalue of the magnification matrix, <img class="math" src="../_images/math/7f5dd17f04daee06d4c2d26a6bdf6bdc4a04876f.png" alt="b_i"/> is the orthoradial eigenvalue of the magnification matrix, <img class="math" src="../_images/math/38bdd46f8c00593ddd0236c20e71e3d37d868eb1.png" alt="\theta_{shear, i}"/> is the direction of the shear (90edeg relative to PA), {\mu_i} is the amplification.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int=</span> <span class="pre">2</span></code> <code class="docutils literal notranslate"><span class="pre">radial.dat</span></code> and <code class="docutils literal notranslate"><span class="pre">radial2.dat</span></code> will be created, <code class="docutils literal notranslate"><span class="pre">radial.dat</span></code> will have the following format:</p>
<p>| <img class="math" src="../_images/math/dbc4c429b48dd94e41ee866e1edbf0abededae3a.png" alt="r_i"/> | <img class="math" src="../_images/math/cda73990dd8e18bdee9bc740f19da1d42655fa4d.png" alt="\epsilon_i"/> | <img class="math" src="../_images/math/d65e9f3b69ff388184990e150e7846d56e05fd73.png" alt="\delta_i"/> | <img class="math" src="../_images/math/dbc357e9cf742d661bf4941cd0c41ec78cbbe187.png" alt="\tau_i"/> |  <img class="math" src="../_images/math/d2178afedfa08721799794adf75193375f48f8e9.png" alt="\theta_{shear,i}"/> | <img class="math" src="../_images/math/e3535fd1868cc6c6b0c0998c3d459f55a9d0f8d2.png" alt="\mu_i"/> |</p>
<p>where <img class="math" src="../_images/math/dbc4c429b48dd94e41ee866e1edbf0abededae3a.png" alt="r_i"/> is the radial distance, <img class="math" src="../_images/math/cda73990dd8e18bdee9bc740f19da1d42655fa4d.png" alt="\epsilon_i"/> is the induced ellipticity, <img class="math" src="../_images/math/d65e9f3b69ff388184990e150e7846d56e05fd73.png" alt="\delta_i"/> is the induced distortion, <img class="math" src="../_images/math/dbc357e9cf742d661bf4941cd0c41ec78cbbe187.png" alt="\tau_i"/> is the induced deformation, <img class="math" src="../_images/math/d2178afedfa08721799794adf75193375f48f8e9.png" alt="\theta_{shear,i}"/> is the direction of the shear (90deg relative to PA), <img class="math" src="../_images/math/e3535fd1868cc6c6b0c0998c3d459f55a9d0f8d2.png" alt="\mu_i"/> is the amplification. The file <code class="docutils literal notranslate"><span class="pre">radial2.dat</span></code> will have the following format:</p>
<p>| <img class="math" src="../_images/math/dbc4c429b48dd94e41ee866e1edbf0abededae3a.png" alt="r_i"/>    |  <img class="math" src="../_images/math/d0e2a6cb05cfbc3fb934f020d4cb7e1d1501dcdf.png" alt="\tau^2_i /r_i"/> | <img class="math" src="../_images/math/58a484279577e517c38a68cf3554b022f1d4cc54.png" alt="\tau_i / r_i"/> |</p>
<p>If <code class="docutils literal notranslate"><span class="pre">int=</span> <span class="pre">3</span></code> only <code class="docutils literal notranslate"><span class="pre">radial.dat</span></code> will be created with the following format:</p>
<p>| <img class="math" src="../_images/math/dbc4c429b48dd94e41ee866e1edbf0abededae3a.png" alt="r_i"/>  | <img class="math" src="../_images/math/bc58c6693b4ac49be11f139916296dcbc22c3191.png" alt="\alpha_i"/> | <img class="math" src="../_images/math/7e1806a297e5f2f0e57624d607806c679d4914f2.png" alt="r_i - c_r"/> | <img class="math" src="../_images/math/a02cf89987669885852dd0df4d14a960532527b5.png" alt="r_i - c_t"/> |</p>
<p>where <img class="math" src="../_images/math/dbc4c429b48dd94e41ee866e1edbf0abededae3a.png" alt="r_i"/> is the radial distance, <img class="math" src="../_images/math/bc58c6693b4ac49be11f139916296dcbc22c3191.png" alt="\alpha_i"/> is the deflection angle, <img class="math" src="../_images/math/de3eb0262e5613ff11723ff1c281ff100cc1d54e.png" alt="c_r"/> is the radial critical radius, <img class="math" src="../_images/math/fa4d0eb07934fe149c235c897da698a2d03bb38f.png" alt="c_t"/> the tangential critical radius.</p>
</section>
<section id="dpl-int1-int2-float-filename1-filename2">
<h2><code class="docutils literal notranslate"><span class="pre">dpl</span> <span class="pre">int1</span> <span class="pre">int2</span> <span class="pre">float</span> <span class="pre">filename1</span> <span class="pre">filename2</span></code><a class="headerlink" href="#dpl-int1-int2-float-filename1-filename2" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if false, 1: if true. If true, compute the displacement map of size <code class="docutils literal notranslate"><span class="pre">int2</span></code><img class="math" src="../_images/math/8ef1f282527041d7d5c4a46dd2c60a02a7a7c00b.png" alt="\times"/><code class="docutils literal notranslate"><span class="pre">int2</span></code> for a source plane at redshift <code class="docutils literal notranslate"><span class="pre">float</span></code>, and for a spatial coverage specified in the section <a class="reference internal" href="#"><span class="xref myst">champ</span></a>.</p>
<p>The displacement maps along the X and Y axes are written in the FITS files <code class="docutils literal notranslate"><span class="pre">filename1</span></code> and <code class="docutils literal notranslate"><span class="pre">filename2</span></code> respectively.</p>
</section>
<section id="restart-int1-int2">
<h2><code class="docutils literal notranslate"><span class="pre">restart</span> <span class="pre">int1</span> <span class="pre">int2</span></code><a class="headerlink" href="#restart-int1-int2" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int1</span></code> 0: if, false (default), 1: if true. If true, store a file <code class="docutils literal notranslate"><span class="pre">restart.dat</span></code> in the local working directory (name can be changed in <code class="docutils literal notranslate"><span class="pre">dimension.h</span></code>), and use it for restarting lenstool where it stopped in a previous run. At restart, <code class="docutils literal notranslate"><span class="pre">bayes.dat</span></code> and <code class="docutils literal notranslate"><span class="pre">burning.dat</span></code> files are overwritten at the identical.</p>
<p><code class="docutils literal notranslate"><span class="pre">int2</span></code> The random seed value used in the BayeSys algorithm to sample the parameter space. <code class="docutils literal notranslate"><span class="pre">int2</span></code> must be positive. Negative <code class="docutils literal notranslate"><span class="pre">int2</span></code> (default) makes BayeSys use a seed value computed for the computer clock, and no restart is possible.</p>
<p>The restart feature only works with the <a class="reference internal" href="#"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">inverse</span></code></span></a> 3 optimisation mode.</p>
<p>Note that 2 identical models running on different machines can produce slightly different <code class="docutils literal notranslate"><span class="pre">restart.dat</span></code> files due to numerical precision limits. Nonetheless the behaviour should be overall similar.</p>
<p>To convert the <code class="docutils literal notranslate"><span class="pre">restart.dat</span></code> file to ASCII, you can compile the code <code class="docutils literal notranslate"><span class="pre">restart2ascii.c</span></code> located in the <code class="docutils literal notranslate"><span class="pre">./perl</span></code> directory using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gcc</span> <span class="o">-</span><span class="n">o</span> <span class="n">restart2ascii</span> <span class="n">restart2ascii</span><span class="o">.</span><span class="n">c</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../parameter_file.html" class="btn btn-neutral float-left" title="Parameter file: Section details" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ImagE.html" class="btn btn-neutral float-right" title="image" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Allingham et al. (add your names).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>